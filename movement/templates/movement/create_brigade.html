{% extends "movement/movement_layout.html" %}

{% block breadcrumb %}
	<li class="breadcrumb-item active"><a href="{% url 'movement:movement_base' %}">Movement</a></li>
    <li class="breadcrumb-item active">New Brigade</li>
{% endblock %}

{% block content %}
    {% if request.user.is_authenticated %}
        <div class="container">
          <div class="alert alert-info lead" role="alert">
            New Brigade Entry
          </div>
          {% load django_bootstrap5 %}
            <div class="container">
                <form method="POST" class="form">
                    {% csrf_token %}
                    {% bootstrap_form form layout='horizontal' %}
                    {% bootstrap_button button_type="submit" class="btn btn-primary" content="Add" %}
                    <a class="ms-3 btn btn-primary" href="{% url 'movement:movement_base' %}" role="button">Done</a>
              </form>
            </div>

            <div class="mt-5 alert alert-secondary lead" role="alert">
                List of brigades
            </div>
            {% if brigade_create_list %}
              <table id = "id_brigade_list_view" class="table table-responsive table-striped table-bordered border-secondary mb-4">
                <thead class="table-dark">
                  <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Acronym</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  {% for brigade in brigade_create_list %}
                    <tr>
                      <td>{{ brigade.id }}</td>
                      <td>{{ brigade.brigade }}</td>
                      <td>{{ brigade.acronym }}</td>
                      <td><a href="{{ brigade.get_delete_url }}" class="btn btn-danger btn-sm bi bi-x-square"></a>
                          <a href="{{ brigade.get_update_url }}" class="btn btn-primary btn-sm bi bi-pen"></a></td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>

              {% include 'movement/pagination.html' %}

            {% else %}
                <p>There are no records!</p>
            {% endif %}
		</div>
	{% else %}
		<h1> You are not logged in</h1>
	{% endif %}
{% endblock content %}
